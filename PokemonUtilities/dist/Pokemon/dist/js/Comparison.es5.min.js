"use strict";var ComparisonDTO=function(n,t,i,r,u){return this.name=n,this.id=t,this.color=i,this.stats=r,this.icon=u,this};$.fn.Comparison=function(n){return $(this).filter(function(n,t){return t.nodeName==="CANVAS"}).each(function(){var i=$(this),t=i[0];return t.Options=n,"fncOnMouseMove"in t||(t.fncGetMousePos=function(n){var t=this.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}.bind(t),t.fncOnMouseMove=function(n){var t=this.fncGetMousePos(n);this.Draw(t)}.bind(t),t.onmousemove=t.fncOnMouseMove),t.Draw=function(n){var i=this.Options.items,s=this.getBoundingClientRect(),ht,u,k,r,tt,e,nt,ot,c;this.width=s.width;this.height=s.height;var p="",w=this.Options.properties,b=s.width/2*.75,l=b/(w.length-1),f=360/i.length,t=this.getContext("2d");for(t.translate(s.width/2,s.height/2),ht=t.save(),u=function(n,t){return this.Radius=n,this.Theta=t,this.toCartesian=function(){return{x:this.Radius*Math.cos(this.Theta),y:this.Radius*Math.sin(this.Theta)}}.bind(this),this.Cartesian=this.toCartesian(),this},k=i.length,r=0;r<k;r++){for(t.rotate(2*(r+1/k)*Math.PI),tt=w.length,e=0;e<tt;e++){t.strokeStyle="silver";t.fillStyle=i[r].color;t.lineWidth=1;var a=w[e],h=i[r].stats[a],ct=r>0?i[r-1]:i[i.length-1],lt=r<i.length-1?i[r+1]:i[0],it={left:h/(h+ct.stats[a]),right:h/(h+lt.stats[a])},at=f/2,d=e*l,g=e*l+l,rt=at,v=rt-f*it.left,y=rt+f*it.right,ut=new u(d,v*Math.PI/180),ft=new u(g,v*Math.PI/180),et=new u(g,y*Math.PI/180),yt=new u(d,y*Math.PI/180);t.beginPath();t.moveTo(ut.Cartesian.x,ut.Cartesian.y);t.lineTo(ft.Cartesian.x,ft.Cartesian.y);t.arc(0,0,g,v*Math.PI/180,y*Math.PI/180);t.lineTo(et.Cartesian.x,et.Cartesian.y);t.arc(0,0,d,y*Math.PI/180,v*Math.PI/180,!0);typeof n!="undefined"&&n!==null&&t.isPointInPath(n.x,n.y)&&(p=a+": "+h.toString(),t.lineWidth=2.5,t.strokeStyle="navyblue");t.closePath();t.fill();t.stroke()}nt=new u(b,0);t.beginPath();t.moveTo(0,0);t.lineTo(nt.Cartesian.x,nt.Cartesian.y);t.arc(0,0,b+l,0,f*Math.PI/180);t.lineTo(0,0);t.stroke();t.closePath()}for(t.restore(),ot=i.length,c=0;c<ot;c++){var vt=new u(this.width*.9/2,(f/2+f*(c+1))*Math.PI/180),o=96,st=new Image(o,o);st.onload=function(n){t.drawImage(n.currentTarget,this.x-o/2,this.y-o/2,o,o)}.bind(vt.Cartesian);st.src=i[c].icon}return p!==""&&(t.fillStyle="black",t.font=this.height*.25+"px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText(p,0,0,this.width*.75)),i}.bind(t),t.Draw(),i})};