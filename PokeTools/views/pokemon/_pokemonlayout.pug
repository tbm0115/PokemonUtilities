extends ../_sitelayout

block append styles
    link(rel='stylesheet', href='/Pokemon/css/Pokemon.min.css?v=1.8')
    link(rel='preload', href='/PokeApi/api/v2/pd/1/index.json', as='fetch')
    style(type='text/css').
        .wash-out{
            filter: grayscale(100%) opacity(50%);
        }
        
block append subNav
    #pnlSearch
        div.form-group
            input.form-control#txtSearchDex(role='search', placeholder='Search National \'Dex', type='search')
        div#searchResults.pokedex
        button(type='button',aria-label='Open Search Panel', data-target='#pnlSearch', onclick='document.querySelector("#pnlSearch").classList.toggle("active");')
            i.fa.fa-chevron-circle-left

block append content
  div.poke-loader

block append scripts
  script(language='javascript', type='text/javascript', src='/Pokemon/js/Pokemon.es5.min.js?v=1.2')
  script(language='javascript', type='text/javascript', src='/Pokemon/js/jquery.pokedexresult.js?v=0.1')
  script(type='text/javascript',language='javascript').
    var $pokedex;
    $(document).ready(function(){
      $pokedex = $("#searchResults").pokedex().on("pokemon.clicked", function(e, result){
        console.log("[_pokemonlayout] Pokemon Clicked: ", result);
      });
      $("#txtSearchDex").on("keyup blur", function(ev){
        $pokedex.search(ev.currentTarget.value);
      });
    });